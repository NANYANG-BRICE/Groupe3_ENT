<!DOCTYPE html>
<html lang="en" html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Gestion des Interventions</title>
  <link rel="stylesheet" type="text/css" th:href="@{/css/gIntervention.css}">
  <link rel="stylesheet" href="/vendors/feather/feather.css">
  <link rel="stylesheet" href="/vendors/ti-icons/css/themify-icons.css">
  <link rel="stylesheet" href="/vendors/css/vendor.bundle.base.css">
  <link href="/vendors/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="/vendors/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="/vendors/datatables.net-bs4/dataTables.bootstrap4.css">
  <link rel="stylesheet" href="/vendors/ti-icons/css/themify-icons.css">
  <link rel="stylesheet" type="/text/css" href="js/select.dataTables.min.css">
  <link rel="stylesheet" href="/vendors/select2/select2.min.css">
  <link rel="stylesheet" href="/vendors/select2-bootstrap-theme/select2-bootstrap.min.css">
  <link rel="stylesheet" href="/css/vertical-layout-light/style.css">
  <link rel="shortcut icon" href="/images/favicon.png" />
  <link rel="stylesheet" type="text/css" th:href="@{/css/gInterventionResp.css}">
  <link rel="stylesheet" type="text/css" th:href="@{/sweetalert2/sweetalert2.css}">
  <th:block th:replace="fragments/_head.html::head"></th:block>
</head>

<div class="container-scroller">

  <th:block th:replace="/fragments/_header.html::header"></th:block>
  <div class="container-fluid page-body-wrapper">
    <div class="theme-setting-wrapper">
      <div id="settings-trigger"><i class="ti-settings"></i></div>
      <div id="theme-settings" class="settings-panel">
        <i class="settings-close ti-close"></i>
        <p class="settings-heading">SIDEBAR SKINS</p>
        <div class="sidebar-bg-options selected" id="sidebar-light-theme">
          <div class="img-ss rounded-circle bg-light border mr-3"></div>Light
        </div>
        <div class="sidebar-bg-options" id="sidebar-dark-theme">
          <div class="img-ss rounded-circle bg-dark border mr-3"></div>Dark
        </div>
        <p class="settings-heading mt-2">HEADER SKINS</p>
        <div class="color-tiles mx-0 px-4">
          <div class="tiles success"></div>
          <div class="tiles warning"></div>
          <div class="tiles danger"></div>
          <div class="tiles info"></div>
          <div class="tiles dark"></div>
          <div class="tiles default"></div>
        </div>
      </div>
    </div>

    <th:block th:replace="/fragments/_navGestInt.html::navGestInt"></th:block>

    <div class="main-panel">
      <input type="text" id="session-matricule" class="d-none" th:value="${session.matricule}" />
      <div class="content-wrapper">
        <div class="row">
          <div class="col-lg-12 grid-margin stretch-card">
            <div class="card">
              <div class="card-body ">
                <h4 th:if="${session.authorithies[0].authority =='User' }" class="card-title">Mes Interventions</h4>
                <h4 th:if="${session.authorithies[0].authority =='Admin' }" class="card-title">Interventions Par
                  Departement</h4>
                <p class="card-description"></p>
                <div class="table-responsive">


                  <table id="table_id" class="table table-hover table-striped table-bordered">
                    <thead class="fw-bold text-white bg-primary">
                      <tr>
                        <th>Date de creation</th>
                        <th>Departement</th>
                        <th th:if="${session.authorithies[0].authority == 'Admin' }"> Categorie </th>
                        <th>Description</th>
                        <th>pieceJointes</th>
                        <th>Statut</th>
                        <th>Actions</th>
                      </tr>
                    </thead>

                    <tbody>
                      <tr th:each="interventions : ${interventions}">
                        <td
                          th:text="${#dates.format(new java.util.Date(interventions.dateCreationInter), 'dd/MM/yyyy HH:mm:ss')}">
                        </td>
                        <td th:text="${interventions.departement.intituleDepartement}"></td>
                        <td th:if="${session.authorithies[0].authority == 'Admin' }">
                          <span th:text="${interventions.categorie.intituleCategorie}"></span>
                        </td>
                        <td>
                          <span
                            th:text="${#strings.length(interventions.description) > 25} ? ${#strings.substring(interventions.description, 0, 25)} + '...' : ${interventions.description}"></span>
                        </td>
                        <td>
                          <a th:each="piecesJointe : ${interventions.piecesJointes}"
                            th:href="@{/download/{idPieceJ}(idPieceJ=${piecesJointe.idPieceJointe})}">
                            <i class="bi bi-file-earmark-binary-fill"></i>
                          </a>
                        </td>
                        <td>
                          <span class="badge badge-info" th:if="${interventions.statut == 'nonTraite'}"
                            th:text="${interventions.statut}"></span>
                          <span class="badge badge-success" th:if="${interventions.statut == 'traite'}"
                            th:text="${interventions.statut}">Success</span>
                          <span class="badge badge-warning fw-bold" th:if="${interventions.statut == 'enCours'}"
                            th:text="${interventions.statut}"></span>
                          <span class="badge badge-danger" th:if="${interventions.statut == 'rejetter'}"
                            th:text="${interventions.statut}"></span>
                        </td>
                        <td>
                          <div class="btn-group mr-2" role="group" aria-label="Second group">
                            <span data-toggle="modal" data-target="#interventionDetailsModal">
                              <button type="button" class="btn bi bi-eye-fill" data-toggle="tooltip"
                                data-placement="top"
                                th:attr="onclick=|showInterventionDetail('${interventions.idIntervention}')|"
                                data-original-title="Consulter les détails de cette l'intervention.">
                              </button>
                            </span>
                          </div>

                          <button type="button" class="btn bi bi-x-circle-fill text-danger" data-toggle="tooltip"
                            data-placement="top"
                            th:if="${interventions.statut == 'nonTraite' && session.authorithies[0].authority =='Admin' && !interventions.canceled}"
                            th:attr="onclick=|cancelInterventionRequest('${interventions.idIntervention}')|"
                            data-original-title="Rejeter cette demande d'intervention.">
                          </button>

                          <button type="button" class="btn bi bi-plus-circle-fill text-primary" data-toggle="tooltip"
                            data-placement="top"
                            th:if="${interventions.statut == 'nonTraite' && session.authorithies[0].authority =='Admin'}"
                            th:attr="onclick=|prendreChargeInterventionRequest('${interventions.idIntervention}', '${session.matricule}')|"
                            data-original-title="Prendre en charge cette demande d'intervention.">
                          </button>

                          <span data-toggle="modal" data-target="#terminerInterventionModal"
                            th:if="${interventions.statut == 'enCours' && session.authorithies[0].authority =='Admin'}">
                            <button type="button" class="btn bi bi-check-circle-fill text-success" data-toggle="tooltip"
                              data-placement="top"
                              th:attr="onclick=|finaliserInterventionRequest1('${interventions.idIntervention}')|"
                              data-original-title="Finaliser cette demande d'intervention.">
                            </button>
                          </span>
                        </td>


                        <div class="modal fade" id="interventionDetailsModal" tabindex="-1"
                          aria-labelledby="details-interventionModal" aria-hidden="true">
                          <div class="modal-dialog">
                            <div class="modal-content">
                              <div class="modal-header bg-primary fw-bold text-white">
                                <h5 class="modal-title" id="modal-title">Details de
                                  l'intervention</h5>
                                <button type="button" class="btn-close text-white" data-dismiss="modal"
                                  aria-label="Close"></button>
                              </div>
                              <div class="modal-body">
                                <div class="form-group">
                                  <div class="row">
                                    <div class="col-md-5">Objet Demande :</div>
                                    <div class="col-md-7">
                                      <span class="float-end" id="modalObjet"></span>
                                    </div>
                                  </div>
                                </div>

                                <div class="form-group">
                                  <div class="row">
                                    <div class="col-md-5">Matricule etudiant :</div>
                                    <div class="col-md-7">
                                      <span class="float-end" id="modalMatriculeEtudiant"></span>
                                    </div>
                                  </div>
                                </div>

                                <div class="form-group">
                                  <div class="row">
                                    <div class="col-md-5">Nom(s) etudiant :</div>
                                    <div class="col-md-7">
                                      <span class="float-end" id="modalNomEtudiant"></span>
                                    </div>
                                  </div>
                                </div>

                                <div class="form-group">
                                  <div class="row">
                                    <div class="col-md-5">Departement :</div>
                                    <div class="col-md-7">
                                      <span class="float-end" id="modalDepartement"></span>
                                    </div>
                                  </div>
                                </div>

                                <div class="form-group">
                                  <div class="row">
                                    <div class="col-md-5">Categorie :</div>
                                    <div class="col-md-7">
                                      <span class="float-end" id="modalCategorie"></span>
                                    </div>
                                  </div>
                                </div>

                                <div class="form-group">
                                  <div class="row">
                                    <div class="col-md-5">Date D'envoi :</div>
                                    <div class="col-md-7">
                                      <span class="float-end" id="modalDateEnvoie"></span>
                                    </div>
                                  </div>
                                </div>

                                <div class="form-group">
                                  <div class="row">
                                    <div class="col-md-5">Statut Demande :</div>
                                    <div class="col-md-7">
                                      <span class="float-end" id="modalStatutDemande"></span>
                                    </div>
                                  </div>
                                </div>

                                <div class="form-group">
                                  <div class="row">
                                    <div class="col-md-5">Piece jointe :</div>
                                    <div class="col-md-7">
                                      <span class="float-end">
                                        <th:block
                                          th:if="${interventions.piecesJointes != null and not #lists.isEmpty(interventions.piecesJointes)}">
                                          <th:block th:each="pieceJointe : ${interventions.piecesJointes}">
                                            <a data-toggle="tooltip" data-placement="top"
                                              data-original-title="Piece jointe rattachee a la demande."
                                              th:href="@{/download/{idPieceJ}(idPieceJ=${pieceJointe.idPieceJointe})}">
                                              <i class="bi bi-file-earmark-binary-fill"></i>
                                            </a>
                                          </th:block>
                                        </th:block>
                                        <th:block th:if="${interventions.piecesJointes == null}">
                                          Aucune pièce jointe
                                        </th:block>
                                      </span>
                                    </div>
                                  </div>
                                </div>

                                <div class="form-group">
                                  <div class="row">
                                    <div class="col-md-4">Responsable :</div>
                                    <div class="col-md-8">
                                      <span class="float-end" id="modalResponsableTraitement"></span>
                                    </div>
                                  </div>
                                </div>

                                <div class="form-group">
                                  <div class="row">
                                    <div class="col-md-4">Date Modif :</div>
                                    <div class="col-md-8">
                                      <span class="float-end" id="modalDateModif"></span>
                                    </div>
                                  </div>
                                </div>

                                <div class="form-group">
                                  <div class="row">
                                    <div class="col-md-4">Description :</div>
                                    <div class="col-md-12">
                                      <textarea name="modalDescription" id="modalDescription" cols="30" rows="3"
                                        readonly class="form-control bg-white text-dark mt-2"></textarea>
                                    </div>
                                  </div>
                                </div>

                                <div class="container-fluid mx-auto"
                                  th:if="${session.authorithies[0].authority =='Admin'}">
                                  <center>
                                    <button type="button" class="btn btn-danger col-md-3 rounded" data-toggle="tooltip"
                                      th:if="${interventions.statut == 'nonTraite'}"
                                      data-placement="top"
                                      th:attr="onclick=|cancelInterventionRequest('${interventions.idIntervention}')|"
                                      data-original-title="Rejeter cette demande d'intervention.">
                                      Rejetter
                                    </button>

                                    <button type="button" class="btn btn-primary col-md-5 rounded" data-toggle="tooltip"
                                      data-placement="top"
                                      th:if="${interventions.statut == 'nonTraite'}"
                                      th:attr="onclick=|prendreChargeInterventionRequest('${interventions.idIntervention}', '${session.matricule}')|"
                                      data-original-title="Prendre en charge cette demande d'intervention.">
                                      Prendre En Charge
                                    </button>

                                    <span data-toggle="modal" data-target="#terminerInterventionModal">
                                      <button type="button" class="btn btn-success col-md-3 rounded"
                                        data-toggle="tooltip" data-placement="top"
                                        th:if="${interventions.statut == 'enCours'}"
                                        th:attr="onclick=|finaliserInterventionRequest1('${interventions.idIntervention}')|"
                                        data-original-title="Finaliser cette demande d'intervention.">
                                        Finaliser
                                      </button>
                                    </span>
                                  </center>
                                </div>
                              </div>


                            </div>
                          </div>
                        </div>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <footer class="footer">
        <div class="d-sm-flex justify-content-center justify-content-sm-between">
          <span class="text-muted text-center text-sm-left d-block d-sm-inline-block">Copyright © 2022. Client Web
            ING4-ISI <a href="https://www.institutsaintjean.org/" target="_blank">ISJ-ENT.</a> All rights
            reserved.</span>
          <span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center">Hand-crafted & made with <i
              class="ti-heart text-danger ml-1"></i></span>
        </div>
      </footer>
    </div>
  </div>
  <th:block th:replace="fragments/_modalsIntervention.html::modalsIntervention"></th:block>
  <th:block th:replace="fragments/_modalsIntervention.html::modalsValidationIntervention"></th:block>
</div>

<!-- plugins:js -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript" th:src="@{/js/moreIntervention.js}"></script>
<script src="/vendors/js/vendor.bundle.base.js"></script>

<script src="/js/creerIntervention.js"></script>
<script src="/js/off-canvas.js"></script>
<script src="/js/hoverable-collapse.js"></script>
<script src="/js/template.js"></script>
<script src="/js/settings.js"></script>
<script src="/js/todolist.js"></script>

<script src="/vendors/chart.js/Chart.min.js"></script>
<script src="/vendors/datatables.net/jquery.dataTables.js"></script>
<script src="/vendors/datatables.net-bs4/dataTables.bootstrap4.js"></script>
<script src="js/dataTables.select.min.js"></script>
<script src="/vendors/typeahead.js/typeahead.bundle.min.js"></script>
<script src="/vendors/select2/select2.min.js"></script>
<script src="/js/dashboard.js"></script>
<script src="/js/Chart.roundedBarCharts.js"></script>
<script src="/js/file-upload.js"></script>
<script src="/js/typeahead.js"></script>
<script src="/js/select2.js"></script>

<script th:src="@{/sweetalert2/sweetalert2.all.js}"></script>
<script th:src="@{/sweetalert2/sweetalert2.js}"></script>


<script th:inline="javascript">
  function truncateString(str) {
    if (str.length <= 25) {
      return str;
    } else {
      return str.substring(0, 25) + "...";
    }
  }

  var token = $('#session-matricule').val();// 'valeur_par_defaut';
  var matricule = $('#session-matricule').val() //'valeur_par_defaut';

  $(document).ready(function () {
    $('[data-toggle="tooltip"]').tooltip();
  });

  function capitalizeFirstLetter(str) {
    return str.charAt(0).toUpperCase() + str.slice(1);
  }

  function formatterDate(timestamp) {
    var date = new Date(timestamp);
    var jour = ("0" + date.getDate()).slice(-2); // jour du mois (avec zéro initial)
    var mois = ("0" + (date.getMonth() + 1)).slice(-2); // mois (avec zéro initial)
    var annee = date.getFullYear(); // année
    var heures = ("0" + date.getHours()).slice(-2); // heures (avec zéro initial)
    var minutes = ("0" + date.getMinutes()).slice(-2); // minutes (avec zéro initial)
    var secondes = ("0" + date.getSeconds()).slice(-2); // secondes (avec zéro initial)
    var formatDate = jour + "/" + mois + "/" + annee + " " + heures + ":" + minutes + ":" + secondes;
    return formatDate;
  }


  function maintenant() {
    var date = new Date();
    var jour = ("0" + date.getDate()).slice(-2); // jour du mois (avec zéro initial)
    var mois = ("0" + (date.getMonth() + 1)).slice(-2); // mois (avec zéro initial)
    var annee = date.getFullYear(); // année
    var heures = ("0" + date.getHours()).slice(-2); // heures (avec zéro initial)
    var minutes = ("0" + date.getMinutes()).slice(-2); // minutes (avec zéro initial)
    var secondes = ("0" + date.getSeconds()).slice(-2); // secondes (avec zéro initial)
    var formatDate = jour + "/" + mois + "/" + annee + " " + heures + ":" + minutes + ":" + secondes;
    return formatDate;
  }


  function showInterventionDetail(params) {
    $.ajax({
      url: "http://localhost:9090/api/interventions/one/etudiant/" + params,
      method: "GET",
      dataType: "json",
    }).done(function (response) {
      console.log(response);
      $("#modalIntervention").text(response.idIntervention);
      $("#modalObjet").text(response.sousIntervention.intituleSousIntervention);
      $("#modalMatriculeEtudiant").text(response.etudiant.matricule);
      $("#modalNomEtudiant").text(response.etudiant.nomEtudiant.toUpperCase() + ' ' + response.etudiant.prenomEtudiant);
      $("#modalDepartement").text(response.sousIntervention.departement.intituleDepartement);
      $("#modalCategorie").text(response.sousIntervention.categorie.intituleCategorie);
      $("#modalDateEnvoie").text(formatterDate(response.dateCreationInter));
      $("#modalStatutDemande").text(capitalizeFirstLetter(response.statut));
      $("#modalDateModif").text(response.dateModificationInter == null ? "" : formatterDate(response.dateModificationInter));
      $("#modalDescription").val(response.description);
      $("#modalPieceJointe").html(response.piecesJointes.idPieceJointe != null ? constructFileDownload(response.piecesJointes.idPieceJointe) : "Aucune Piece Jointe");
      $("#modalResponsableTraitement").text(formatterEmail(response.personnel.nomPersonnel.toUpperCase() + " " + response.personnel.prenomPersonnel));
    })
  }


  function formatterEmail(email) {
    let emailTronque = email.substring(0, 25);
    if (email.length > 25) {
      emailTronque += '...';
    }
    return emailTronque;
  }



  function finalisation(params) {
    $("#id-finalize-int").val(params)
  }

  function cancelInterventionRequest(params) {
    $('#interventionDetailsModal').modal('hide');
    const path = "http://localhost:9090/api/interventions";
    $.ajax({
      url: `${path}/one/etudiant/${params}`,
      method: "GET",
      dataType: "json",
    }).done((response) => {
      const etudiant = response.etudiant;
      const confirmationMessage = `Souhaitez-vous réellement <b>Rejetter</b> la demande d'intervention ?`;

      Swal.fire({
        hideOnOverlayClick: false,
        hideOnContentClick: false,
        allowOutsideClick: false,
        title: "Êtes-vous sûr(e)?",
        html: confirmationMessage,
        showCancelButton: true,
        confirmButtonColor: "#3085d6",
        cancelButtonColor: "#d33",
        confirmButtonText: "Continuer",
        cancelButtonText: "Annuler",
        closeOnConfirm: false
      }).then((result) => {
        if (result.isConfirmed) {

          Swal.fire({
            title: "Requête en cours",
            html: "Veuillez patienter quelques instants...",
            showConfirmButton: false,
            allowOutsideClick: false,
            didOpen: () => {
              Swal.showLoading();
            }
          });

          $.ajax({
            url: `${path}/cancel/${response.idIntervention}`,
            type: "POST",
            contentType: "application/json; charset=utf-8",
            cache: false,
            success: function () {
              Swal.fire({
                hideOnOverlayClick: false,
                hideOnContentClick: false,
                allowOutsideClick: false,
                title: 'Félicitations',
                html: "Nous vous informons que cette demande d'intervention a bien été rejetée.",
                confirmButtonColor: "#3085d6",
                confirmButtonText: "Continuer",
                cancelButtonText: "Annuler",
              }).then(() => location.reload());
            },
            error: function (xhr, status, error) {
              console.error("Erreur lors de la requête API:", status, error);
              Swal.fire({
                hideOnOverlayClick: false,
                hideOnContentClick: false,
                allowOutsideClick: false,
                title: 'Action Impossible',
                html: "Il semblerait que cette intervention a déjà été prise en charge par conséquent elle ne peut pas être annulée pour l'instant. Veuillez réessayer plus tard.",
                confirmButtonColor: "#3085d6",
                confirmButtonText: "Continuer",
              });
            }
          });
        }
      });
    }).fail((error) => {
      console.error("An error occurred while fetching etudiant intervention:", error);
    });
  }


  function prendreChargeInterventionRequest(params, id) {
    $('#interventionDetailsModal').modal('hide');
    const path = "http://localhost:9090/api/interventions";

    $.ajax({
      url: `${path}/one/etudiant/${params}`,
      method: "GET",
      dataType: "json",
    }).done((response) => {
      const etudiant = response.etudiant;
      const confirmationMessage = `Souhaitez-vous réellement <b>Prendre en Charge</b> la demande d'intervention ?`;

      Swal.fire({
        hideOnOverlayClick: false,
        hideOnContentClick: false,
        allowOutsideClick: false,
        title: "Êtes-vous sûr(e)?",
        html: confirmationMessage,
        showCancelButton: true,
        confirmButtonColor: "#3085d6",
        cancelButtonColor: "#d33",
        confirmButtonText: "Continuer",
        cancelButtonText: "Annuler",
        closeOnConfirm: false
      }).then((result) => {
        if (result.isConfirmed) {
          const prendreChargeUrl = `${path}/prendre-en-charge/${response.idIntervention}/${id}`;
          Swal.fire({
            title: "Requête en cours",
            html: "Veuillez patienter quelques instants...",
            showConfirmButton: false,
            allowOutsideClick: false,
            didOpen: () => {
              Swal.showLoading();
            }
          });

          $.ajax({
            url: prendreChargeUrl,
            type: 'PUT',
            success: function () {
              Swal.fire({
                hideOnOverlayClick: false,
                hideOnContentClick: false,
                allowOutsideClick: false,
                title: 'Félicitations',
                html: "Nous vous informons que cette demande d'intervention a bien été prise en charge.",
                confirmButtonColor: "#3085d6",
                confirmButtonText: "Continuer"
              }).then(() => location.reload());
            },
            error: function (xhr, status, error) {
              console.error("Erreur lors de la requête API:", status, error);
              Swal.fire({
                hideOnOverlayClick: false,
                hideOnContentClick: false,
                allowOutsideClick: false,
                title: 'Action Impossible',
                html: "L'intervention ne peut pas être prise en charge pour le moment.",
                confirmButtonColor: "#3085d6",
                confirmButtonText: "Continuer"
              });
            }
          });
        }
      });
    }).fail((error) => {
      Swal.fire({
        hideOnOverlayClick: false,
        hideOnContentClick: false,
        allowOutsideClick: false,
        title: 'OperationnImpossible.',
        html: "Une erreur s'est produite lors de la récupération de l'intervention de l'étudiant.",
        confirmButtonColor: "#3085d6",
        confirmButtonText: "Continuer"
      });
      console.error(error);
    });
  }

  function finaliserInterventionRequest1(params) {
    $('#interventionDetailsModal').modal('hide');
    console.log(params);
    $("#intervention-end-id").val(params);
    const path = "http://localhost:9090/api/interventions";

    $.ajax({
      url: `${path}/one/etudiant/${params}`,
      method: "GET",
      dataType: "json",
    }).done((response) => {
      console.log(response.etudiant);
      var nomPersonnel = response.personnel ? response.personnel.nomPersonnel : '';
      var prenomPersonnel = response.personnel ? response.personnel.prenomPersonnel : '';
      var personnelText = nomPersonnel.toUpperCase() + ' ' + prenomPersonnel;
      let message = `\n\nCher/Chère étudiant(e),

Nous sommes heureux de vous informer que votre demande d'intervention a été traitée avec succès. Notre équipe a pris en charge votre demande et a pris les mesures nécessaires pour la résoudre.

Détails de l'intervention :
- Date de soumission : ${formatterDate(response.dateCreationInter)},
- Département : ${response.sousIntervention.departement.intituleDepartement},
- Responsable en charge : ##############,
- Date de Finalisation : ${maintenant()},
- Statut de demande : finalisée.

Si vous avez des questions supplémentaires ou si vous avez besoin d'une assistance supplémentaire, n'hésitez pas à nous contacter à tout moment. Nous sommes là pour vous aider.

Merci pour votre patience et votre coopération.

Cordialement, L'équipe de l'ISJ.`;

      $("#float-input").val(message);
    }).fail((error) => {
      console.error("Une erreur s'est produite lors de la récupération de l'intervention de l'étudiant:", error);
    });
  }
</script>
</body>

</html>